{"version":3,"sources":["../../../src/editor/StickyWrapper.tsx","../../../src/components/BlurGate.tsx","../../../src/migrations/serialzeEditable.ts","../../../../src/migrations/EDITABLE_MIGRATIONS/index.ts","../../../../src/migrations/EDITABLE_MIGRATIONS/from0to1.ts","../../../src/migrations/migrate.ts","../../../src/Provider/index.tsx","../../../../src/components/HotKey/Decorator.tsx","../../../../src/components/Editable/FallbackDropArea.tsx","../../../../../src/components/Cell/utils/scrollIntoViewWithOffset.ts","../../../../src/components/Cell/InsertNew.tsx","../../../../src/helper/throttle/index.ts","../../../../src/service/logger/index.ts","../../../../src/service/hover/computeHover.ts","../../../../src/service/hover/input.ts","../../../../../../src/components/Cell/Droppable/helper/dnd.ts","../../../../../src/components/Cell/Droppable/index.tsx","../../../../../src/components/Row/Droppable/index.tsx","../../../../../src/components/Cell/ErrorCell/index.tsx","../../../../../src/components/Cell/Draggable/index.tsx","../../../../src/components/Cell/PluginMissing.tsx","../../../../../src/components/Cell/Inner/index.tsx","../../../../src/components/Cell/index.tsx","../../../../src/components/Row/ResizableRowCell.tsx","../../../../src/components/Row/index.tsx","../../../../../src/components/Editable/Inner/index.tsx","../../../../src/components/Editable/index.tsx","../../../src/editor/EditableEditor.tsx","../../src/index.tsx"],"names":["element","currentDataVersion","data","p","a","console","mouse","hoverActions","className","isLayoutMode","isInsertMode","focus","e","showResizeHandle","rect"],"mappings":"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E,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,KAE3D,kBAAmB,CACjB,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,IACzD,CAAC,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE,GAAI,GAAE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","file":"static/js/27.77925f84.chunk.js","sourcesContent":["var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React, { useState } from 'react';\nvar StickyWrapper = function (_a) {\n    var children = _a.children;\n    var ref = React.createRef();\n    var stickyElRef = React.createRef();\n    var _b = __read(useState(false), 2), shouldStickToTop = _b[0], setShouldStickToTop = _b[1];\n    var _c = __read(useState(true), 2), shouldStickToBottom = _c[0], setShouldStickToBottom = _c[1];\n    var _d = __read(useState(0), 2), rightOffset = _d[0], setRightOffset = _d[1];\n    React.useEffect(function () {\n        var calc = function () {\n            if (ref.current) {\n                var _a = ref.current.getBoundingClientRect(), top_1 = _a.top, left = _a.left;\n                var bottom = top_1 + ref.current.clientHeight;\n                // document.documentElement.clientWidth is without scrollbars, so better for us\n                var right = document.documentElement.clientWidth - left - ref.current.clientWidth;\n                var uiHeight = stickyElRef.current\n                    ? stickyElRef.current.clientHeight\n                    : 400;\n                setRightOffset(right);\n                setShouldStickToTop(top_1 > window.innerHeight - uiHeight);\n                setShouldStickToBottom(bottom < window.innerHeight);\n            }\n        };\n        document.addEventListener('scroll', calc);\n        window.addEventListener('resize', calc);\n        var observer = null;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (global.IntersectionObserver) {\n            observer = new IntersectionObserver(calc);\n            if (ref.current) {\n                observer.observe(ref.current);\n            }\n        }\n        // do it once\n        calc();\n        return function () {\n            document.removeEventListener('scroll', calc);\n            window.removeEventListener('resize', calc);\n            observer === null || observer === void 0 ? void 0 : observer.disconnect();\n        };\n    }, [ref, stickyElRef]);\n    return (React.createElement(\"div\", { style: { position: 'relative' }, ref: ref }, children({\n        rightOffset: rightOffset,\n        stickyElRef: stickyElRef,\n        shouldStickToTop: shouldStickToTop,\n        shouldStickToBottom: shouldStickToBottom,\n    })));\n};\nexport default StickyWrapper;\n//# sourceMappingURL=StickyWrapper.js.map","import React, { useEffect } from 'react';\nimport { DISPLAY_MODE_EDIT } from '../actions/display';\nimport { useBlurAllCells, useIsInsertMode, useSetMode } from './hooks';\n// this might break in future, but its better than nothing\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction findReactElement(node) {\n    for (var key in node) {\n        if (key.startsWith('__reactInternalInstance$') ||\n            key.startsWith('__reactFiber$') // react 17\n        ) {\n            return node[key];\n        }\n    }\n    return null;\n}\n// we go up the reac-tree. This works even through portals, which would not be possible with traversing the dom tree!\nvar isInSameTree = function (parent, child) {\n    if (!parent) {\n        return false;\n    }\n    var element = findReactElement(child);\n    while (element) {\n        if (element.stateNode === parent) {\n            return true;\n        }\n        element = element.return;\n    }\n    return false;\n};\nvar useBlurAll = function (_a) {\n    var _b = _a.defaultMode, defaultMode = _b === void 0 ? DISPLAY_MODE_EDIT : _b, disabled = _a.disabled;\n    var ref = React.useRef();\n    var blurAllCells = useBlurAllCells();\n    var setMode = useSetMode();\n    var isInsertMode = useIsInsertMode();\n    useEffect(function () {\n        if (disabled) {\n            return;\n        }\n        if (!ref.current) {\n            return;\n        }\n        if (!document && !document.body) {\n            return;\n        }\n        var onMouseDown = function (e) {\n            if (!isInSameTree(ref.current, e.target)) {\n                blurAllCells();\n                // set us in default mode if current mode is \"insert\"\n                if (isInsertMode) {\n                    setMode(defaultMode);\n                }\n            }\n        };\n        document.body.addEventListener('mousedown', onMouseDown);\n        return function () {\n            document.body.removeEventListener('mousedown', onMouseDown);\n        };\n    }, [ref.current, disabled, isInsertMode, setMode, blurAllCells]);\n    return ref;\n};\nvar BlurGate = function (_a) {\n    var defaultMode = _a.defaultMode, disabled = _a.disabled, children = _a.children;\n    var ref = useBlurAll({ defaultMode: defaultMode, disabled: disabled });\n    return React.createElement(\"div\", { ref: ref }, children);\n};\nexport default BlurGate;\n//# sourceMappingURL=BlurGate.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar serializeRow = function (r, plugins) {\n    return __assign(__assign({}, r), { cells: r.cells.map(function (c) { return serializeCell(c, plugins); }) });\n};\nvar serializeCell = function (c, plugins) {\n    var _a;\n    var pluginDef = c.plugin;\n    var pluginFound = pluginDef\n        ? plugins.find(function (p) { return p.id === pluginDef.id; })\n        : null;\n    var transformData = function (dataIn) {\n        return (pluginFound === null || pluginFound === void 0 ? void 0 : pluginFound.serialize) ? pluginFound.serialize(dataIn) : dataIn;\n    };\n    var dataI18n = c.dataI18n\n        ? Object.keys(c.dataI18n).reduce(function (acc, lang) {\n            var _a;\n            var _b;\n            return (__assign(__assign({}, acc), (_a = {}, _a[lang] = transformData((_b = c.dataI18n) === null || _b === void 0 ? void 0 : _b[lang]), _a)));\n        }, {})\n        : null;\n    return __assign(__assign({}, c), { rows: (_a = c.rows) === null || _a === void 0 ? void 0 : _a.map(function (r) { return serializeRow(r, plugins); }), dataI18n: dataI18n });\n};\nexport var serialzeEditable = function (_a, plugins) {\n    var rows = _a.rows, rest = __rest(_a, [\"rows\"]);\n    return __assign(__assign({}, rest), { rows: rows.map(function (c) { return serializeRow(c, plugins); }) });\n};\n//# sourceMappingURL=serialzeEditable.js.map","import from0to1 from './from0to1';\nexport var CURRENT_EDITABLE_VERSION = 1;\nexport default [from0to1];\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { v4 } from 'uuid';\nimport { removeUndefinedProps } from '../../utils/removeUndefinedProps';\nimport { Migration, sanitizeVersion } from '../Migration';\nexport default new Migration({\n    fromVersion: 0,\n    toVersion: 1,\n    migrate: function (_a, _b) {\n        var _c;\n        var cells = _a.cells, id = _a.id;\n        var lang = _b.lang;\n        var migrateRow = function (_a) {\n            var _b;\n            var cells = _a.cells, rowRest = __rest(_a, [\"cells\"]);\n            return __assign(__assign({}, rowRest), { cells: (_b = cells === null || cells === void 0 ? void 0 : cells.map(migrateCell)) !== null && _b !== void 0 ? _b : [] });\n        };\n        var migrateCell = function (_a) {\n            var _b;\n            var _c, _d;\n            var content = _a.content, layout = _a.layout, rows = _a.rows, cellRest = __rest(_a, [\"content\", \"layout\", \"rows\"]);\n            var contentOrLayout = layout !== null && layout !== void 0 ? layout : content;\n            var dataI18n = ((_c = contentOrLayout === null || contentOrLayout === void 0 ? void 0 : contentOrLayout.stateI18n) !== null && _c !== void 0 ? _c : contentOrLayout === null || contentOrLayout === void 0 ? void 0 : contentOrLayout.state) ? (_b = {},\n                _b[lang] = (_d = contentOrLayout.state) !== null && _d !== void 0 ? _d : null,\n                _b) : undefined;\n            var plugin = contentOrLayout\n                ? {\n                    id: contentOrLayout.plugin.name,\n                    version: sanitizeVersion(contentOrLayout.plugin.version),\n                }\n                : undefined;\n            return removeUndefinedProps(__assign(__assign({}, cellRest), { rows: rows === null || rows === void 0 ? void 0 : rows.map(migrateRow), plugin: plugin,\n                dataI18n: dataI18n, id: cellRest.id ? cellRest.id : v4() }));\n        };\n        var migratedCells = (_c = cells === null || cells === void 0 ? void 0 : cells.map(migrateCell)) !== null && _c !== void 0 ? _c : [];\n        // check if is the only one cell with only rows, then we cann omit that\n        var rootRows = migratedCells.length === 1 && !migratedCells[0].plugin\n            ? migratedCells[0].rows\n            : [\n                {\n                    id: v4(),\n                    cells: migratedCells,\n                },\n            ];\n        return {\n            id: id,\n            rows: rootRows,\n            version: 0,\n        };\n    },\n});\n//# sourceMappingURL=from0to1.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { removeUndefinedProps } from '../utils/removeUndefinedProps';\nimport EDITABLE_MIGRATIONS from './EDITABLE_MIGRATIONS';\nimport { sanitizeVersion } from './Migration';\nexport var migrate = function (\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ndataIn, migrations, versionIn, context) {\n    if (versionIn === void 0) { versionIn = 0; }\n    //console.log('----------');\n    //console.log('versionin ' + versionIn);\n    var data = dataIn;\n    var currentDataVersion = sanitizeVersion(versionIn);\n    //console.log('migrate', versionIn);\n    // eslint-disable-next-line no-constant-condition\n    while (true) {\n        var migrationToRun = migrations === null || migrations === void 0 ? void 0 : migrations.find(function (m) {\n            return m.fromVersion <= currentDataVersion && m.toVersion > currentDataVersion;\n        });\n        if (!migrationToRun) {\n            // We assume all migrations necessary for the current version of plugin to work are provided\n            // Therefore if we don't find any, that means we are done and state is up to date\n            break;\n        }\n        currentDataVersion = migrationToRun.toVersion;\n        //console.log('!! do migrate to ' + currentDataVersion);\n        data = migrationToRun.migrate(data, context);\n    }\n    //console.log('----------');\n    return data;\n};\nvar migratePluginData = function (editable, context) {\n    var migrateRowData = function (r) {\n        return __assign(__assign({}, r), { cells: r.cells.map(migrateCellData) });\n    };\n    var migrateCellData = function (c) {\n        var _a;\n        var pluginDef = c.plugin;\n        var pluginFound = pluginDef\n            ? context.plugins.find(function (p) { return p.id === pluginDef.id; })\n            : null;\n        var versionMismatch = pluginDef && pluginFound && pluginDef.version !== pluginFound.version;\n        var transformData = function (dataIn) {\n            var data = versionMismatch\n                ? migrate(dataIn, pluginFound.migrations, pluginDef.version, context)\n                : dataIn;\n            return (pluginFound === null || pluginFound === void 0 ? void 0 : pluginFound.unserialize) ? pluginFound.unserialize(data) : data;\n        };\n        var dataI18n = c.dataI18n\n            ? Object.keys(c.dataI18n).reduce(function (acc, lang) {\n                var _a;\n                var _b;\n                return (__assign(__assign({}, acc), (_a = {}, _a[lang] = transformData((_b = c.dataI18n) === null || _b === void 0 ? void 0 : _b[lang]), _a)));\n            }, {})\n            : undefined;\n        var plugin = pluginFound\n            ? {\n                id: pluginFound.id,\n                version: pluginFound.version,\n            }\n            : c.plugin; // keep c.plugin in case of not found, that will show an error\n        return removeUndefinedProps(__assign(__assign({}, c), { plugin: plugin,\n            dataI18n: dataI18n, rows: (_a = c.rows) === null || _a === void 0 ? void 0 : _a.map(migrateRowData) }));\n    };\n    return __assign(__assign({}, editable), { rows: editable.rows.map(migrateRowData) });\n};\nexport var migrateEditable = function (dataIn, context) {\n    var versionIn = dataIn === null || dataIn === void 0 ? void 0 : dataIn.version;\n    var newestVersion = EDITABLE_MIGRATIONS[EDITABLE_MIGRATIONS.length - 1].toVersion;\n    var data = migrate(dataIn, EDITABLE_MIGRATIONS, versionIn, context);\n    var migrated = __assign(__assign({}, migratePluginData(data, context)), { version: newestVersion });\n    return migrated;\n};\n//# sourceMappingURL=migrate.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport React, { useEffect, useMemo, useRef } from 'react';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport BlurGate from '../components/BlurGate';\nimport EditorStore, { EditorContext } from '../EditorStore';\nimport { ReduxProvider } from '../reduxConnect';\nimport { OptionsContext } from '../components/hooks';\nimport { serialzeEditable } from '../migrations/serialzeEditable';\nimport deepEquals from '../utils/deepEquals';\nimport { migrateEditable } from '../migrations/migrate';\nimport { updateEditable } from '../actions/editables';\nvar Provider = function (_a) {\n    var lang = _a.lang, value = _a.value, onChangeLang = _a.onChangeLang, onChange = _a.onChange, _b = _a.children, children = _b === void 0 ? [] : _b, _c = _a.dndBackend, dndBackend = _c === void 0 ? HTML5Backend : _c, _d = _a.blurGateDisabled, blurGateDisabled = _d === void 0 ? false : _d, blurGateDefaultMode = _a.blurGateDefaultMode, plugins = _a.plugins, allowMoveInEditMode = _a.allowMoveInEditMode, allowResizeInEditMode = _a.allowResizeInEditMode, editModeResizeHandle = _a.editModeResizeHandle, languages = _a.languages, pluginsWillChange = _a.pluginsWillChange, passedStore = _a.store, _e = _a.middleware, middleware = _e === void 0 ? [] : _e;\n    var editorStore = useMemo(function () {\n        var store = new EditorStore({\n            initialState: {\n                reactPage: {\n                    hover: null,\n                    focus: null,\n                    display: {\n                        mode: 'edit',\n                    },\n                    settings: {\n                        lang: lang,\n                    },\n                    editables: {\n                        past: [],\n                        present: value.map(function (e) {\n                            return migrateEditable(e, {\n                                plugins: plugins,\n                                lang: lang,\n                            });\n                        }),\n                        future: [],\n                    },\n                },\n            },\n            store: passedStore,\n            middleware: middleware,\n        });\n        return store;\n    }, __spread([passedStore], middleware));\n    var lastValueRef = useRef(value);\n    useEffect(function () {\n        var oldLang = lang;\n        var handleChanges = function () {\n            // notify outsiders to new language, when chagned in ui\n            var newLang = editorStore.store.getState().reactPage.settings.lang;\n            if (newLang !== oldLang || newLang !== lang) {\n                oldLang = newLang;\n                onChangeLang === null || onChangeLang === void 0 ? void 0 : onChangeLang(newLang);\n            }\n            if (!onChange) {\n                return;\n            }\n            //console.time('calculate notifiy on change');\n            var editables = editorStore.store.getState().reactPage.editables\n                .present;\n            if (!editables) {\n                // console.timeEnd('calculate notifiy on change');\n                return;\n            }\n            var serializedEditables = editables.map(function (editable) {\n                return serialzeEditable(editable, plugins);\n            });\n            var serializedEqual = deepEquals(lastValueRef.current, serializedEditables);\n            if (serializedEqual) {\n                //    console.timeEnd('calculate notifiy on change');\n                return;\n            }\n            lastValueRef.current = serializedEditables;\n            //   console.timeEnd('calculate notifiy on change');\n            onChange(serializedEditables);\n        };\n        var unsubscribe = editorStore.store.subscribe(handleChanges);\n        return function () {\n            unsubscribe();\n        };\n    }, [editorStore, onChange, pluginsWillChange && plugins]);\n    useEffect(function () {\n        var equal = deepEquals(value, lastValueRef.current);\n        // value changed from outside\n        // FIXME: simply this when we no longer allow having multiple editables\n        if (!equal) {\n            lastValueRef.current = value;\n            value.forEach(function (editable) {\n                var data = migrateEditable(editable, {\n                    plugins: plugins,\n                    lang: lang,\n                });\n                editorStore.store.dispatch(updateEditable(data));\n            });\n        }\n    }, [value, pluginsWillChange && plugins, lang]);\n    useEffect(function () {\n        // if changed from outside\n        editorStore.setLang(lang);\n    }, [editorStore, lang]);\n    useEffect(function () {\n        if ((value === null || value === void 0 ? void 0 : value.length) > 1) {\n            console.warn('using more than one editable is deprecated. Use a @react-page/editor component for each editable value.');\n        }\n    }, [value === null || value === void 0 ? void 0 : value.length]);\n    // prevent options from recreating all the time\n    var optionsMemoized = useMemo(function () {\n        return {\n            plugins: plugins,\n            pluginsWillChange: pluginsWillChange,\n            allowMoveInEditMode: allowMoveInEditMode,\n            allowResizeInEditMode: allowResizeInEditMode,\n            editModeResizeHandle: editModeResizeHandle,\n            languages: languages,\n        };\n    }, [\n        pluginsWillChange && plugins,\n        allowMoveInEditMode,\n        allowResizeInEditMode,\n        editModeResizeHandle,\n        languages,\n    ]);\n    return (React.createElement(DndProvider, { backend: dndBackend },\n        React.createElement(ReduxProvider, { store: editorStore.store },\n            React.createElement(OptionsContext.Provider, { value: optionsMemoized },\n                React.createElement(EditorContext.Provider, { value: editorStore },\n                    React.createElement(BlurGate, { disabled: blurGateDisabled, defaultMode: blurGateDefaultMode }, children))))));\n};\nexport default Provider;\n//# sourceMappingURL=index.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\n/* eslint-disable @typescript-eslint/ban-types */\nimport isHotkey from 'is-hotkey';\nimport React, { useCallback, useEffect, useMemo } from 'react';\nimport { blurAllCells } from '../../actions/cell';\nimport { isRow } from '../../types/editable';\nimport { useEditableNode, useEditorStore, useFocusCellById, useIsEditMode, useRedo, useRemoveCellById, useUndo, useFocusedNodeId, usePlugins, } from '../hooks';\nvar getLeave = function (node, last) {\n    var _a;\n    if (!node)\n        return null;\n    if (isRow(node)) {\n        return getLeave(last ? node.cells[node.cells.length - 1] : node.cells[0], last);\n    }\n    else {\n        if (((_a = node.rows) === null || _a === void 0 ? void 0 : _a.length) > 0) {\n            return getLeave(last ? node.rows[node.rows.length - 1] : node.rows[0], last);\n        }\n        else {\n            return node;\n        }\n    }\n};\nvar getLeaveSibling = function (nodeId, ancestors, previous) {\n    var _a;\n    var _b = __read(ancestors), parent = _b[0], restAncestors = _b.slice(1);\n    if (!parent) {\n        return null;\n    }\n    var allSiblings = isRow(parent) ? parent.cells : parent.rows;\n    if (!parent) {\n        return;\n    }\n    var myIndex = (_a = allSiblings.findIndex(function (c) { return c.id === nodeId; })) !== null && _a !== void 0 ? _a : -1;\n    var siblint = allSiblings[myIndex + (previous ? -1 : 1)];\n    if (siblint) {\n        return getLeave(siblint, previous);\n    }\n    else {\n        // go one deep\n        return getLeaveSibling(parent.id, restAncestors, previous);\n    }\n};\nvar Decorator = function (_a) {\n    var children = _a.children;\n    var editor = useEditorStore();\n    var id = useEditableNode(function (editable) { return ({\n        id: editable === null || editable === void 0 ? void 0 : editable.id,\n    }); }).id;\n    var undo = useUndo();\n    var redo = useRedo();\n    var plugins = usePlugins();\n    var focusedNodeId = useFocusedNodeId();\n    var focusCell = useFocusCellById();\n    var removeCell = useRemoveCellById();\n    var delegateToFoundPlugin = useCallback(function (event, nodeId, handlerName, defaultHandler) { return __awaiter(void 0, void 0, void 0, function () {\n        var node, plugin, e_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    node = editor.getNode(nodeId);\n                    plugin = plugins.find(function (p) { var _a, _b; return p.id === ((_b = (_a = node) === null || _a === void 0 ? void 0 : _a.plugin) === null || _b === void 0 ? void 0 : _b.id); });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 5, , 6]);\n                    if (!(node && plugin[handlerName])) return [3 /*break*/, 3];\n                    return [4 /*yield*/, plugin[handlerName](event, node)];\n                case 2:\n                    _a.sent();\n                    _a.label = 3;\n                case 3: \n                // if the plugin handler resolve or there is no, they do not handle it, so do the default\n                return [4 /*yield*/, defaultHandler(event, node)];\n                case 4:\n                    // if the plugin handler resolve or there is no, they do not handle it, so do the default\n                    _a.sent();\n                    return [3 /*break*/, 6];\n                case 5:\n                    e_1 = _a.sent();\n                    if (e_1) {\n                        // tslint:disable-next-line:no-console\n                        console.error(e_1);\n                    }\n                    return [3 /*break*/, 6];\n                case 6: return [2 /*return*/];\n            }\n        });\n    }); }, [id, editor]);\n    var handlers = useMemo(function () { return [\n        {\n            hotkeys: ['ctrl+z', 'command+z'],\n            handler: function () {\n                undo();\n            },\n        },\n        {\n            hotkeys: ['ctrl+shift+z', 'ctrl+y', 'command+shift+z', 'command+y'],\n            handler: function () {\n                redo();\n            },\n        },\n        {\n            hotkeys: ['alt+del', 'alt+backspace'],\n            handler: function (event) {\n                delegateToFoundPlugin(event, focusedNodeId, 'handleRemoveHotKey', function () {\n                    removeCell(focusedNodeId);\n                });\n            },\n        },\n        {\n            hotkeys: ['alt+down', 'alt+right'],\n            handler: function (event) {\n                delegateToFoundPlugin(event, focusedNodeId, 'handleFocusNextHotKey', function () {\n                    var ancestors = editor.getNodeWithAncestors(focusedNodeId).ancestors;\n                    var nextSibling = getLeaveSibling(focusedNodeId, ancestors, false);\n                    if (nextSibling) {\n                        blurAllCells();\n                        focusCell(nextSibling.id, false);\n                    }\n                });\n            },\n        },\n        {\n            hotkeys: ['alt+up', 'alt+left'],\n            handler: function (event) {\n                delegateToFoundPlugin(event, focusedNodeId, 'handleFocusPreviousHotKey', function () {\n                    var ancestors = editor.getNodeWithAncestors(focusedNodeId).ancestors;\n                    var previousSibling = getLeaveSibling(focusedNodeId, ancestors, true);\n                    if (previousSibling) {\n                        blurAllCells();\n                        focusCell(previousSibling.id, true);\n                    }\n                });\n            },\n        },\n    ]; }, [focusedNodeId, blurAllCells, focusCell, removeCell]);\n    var isEditMode = useIsEditMode();\n    useEffect(function () {\n        // in editmode we only allow hotkeys if a cell is focused.\n        // this is because if we have multiple editors on the same page, we don't want to interfer with others\n        // and also to make it more explicit\n        // The BlurGate currently guarantees that only one editor ever has a focused cell, so we already know on which one we can apply hotkeys\n        // If the editor is in another mode, all hot keys are allowed (which is useful for undo/redo, e.g. when resizing)\n        // because the BlurGate also guarantees that only one editor will be in another mode then editMode\n        // This is not totally clean, but it works very well.\n        if (isEditMode && !focus) {\n            return;\n        }\n        var keyHandler = function (event) {\n            var matchingHandler = handlers.find(function (handler) {\n                return handler.hotkeys.some(function (hotkey) { return isHotkey(hotkey, event); });\n            });\n            matchingHandler === null || matchingHandler === void 0 ? void 0 : matchingHandler.handler(event);\n        };\n        document.addEventListener('keydown', keyHandler);\n        return function () {\n            document.removeEventListener('keydown', keyHandler);\n        };\n    }, [handlers, focus, isEditMode]);\n    return React.createElement(React.Fragment, null, children);\n};\nexport default Decorator;\n//# sourceMappingURL=Decorator.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React from 'react';\nimport { useDrop } from 'react-dnd';\nimport { useInsertNew } from '../hooks';\nvar FallbackDropArea = function (_a) {\n    var children = _a.children;\n    var insertNew = useInsertNew();\n    var _b = __read(useDrop({\n        accept: 'cell',\n        drop: function (item, monitor) {\n            // fallback drop\n            if (!monitor.didDrop()) {\n                insertNew(item.cell);\n            }\n        },\n    }), 2), dropRef = _b[1];\n    return React.createElement(\"div\", { ref: dropRef }, children);\n};\nexport default FallbackDropArea;\n//# sourceMappingURL=FallbackDropArea.js.map","export default (function (element, offset, behavior) {\n    if (offset === void 0) { offset = 0; }\n    if (behavior === void 0) { behavior = 'smooth'; }\n    if (!element) {\n        return;\n    }\n    var bodyRect = document.body.getBoundingClientRect().top;\n    var elementRect = element.getBoundingClientRect().top;\n    var elementPosition = elementRect - bodyRect;\n    var offsetPosition = elementPosition - offset;\n    window.scrollTo({\n        top: offsetPosition,\n        behavior: behavior,\n    });\n});\n//# sourceMappingURL=scrollIntoViewWithOffset.js.map","import React from 'react';\nimport { useIsPreviewMode, useSetDisplayReferenceNodeId, useSetInsertMode, } from '../hooks';\nvar InsertNew = function (_a) {\n    var parentCellId = _a.parentCellId;\n    var setInsertMode = useSetInsertMode();\n    var isPreviewMode = useIsPreviewMode();\n    var setReferenceNodeId = useSetDisplayReferenceNodeId();\n    if (isPreviewMode)\n        return null;\n    return (React.createElement(\"div\", { className: \"ory-cell-insert-new\", onClick: function () {\n            setReferenceNodeId(parentCellId);\n            setInsertMode();\n        } }));\n};\nexport default React.memo(InsertNew);\n//# sourceMappingURL=InsertNew.js.map","import { isProduction } from '../../const';\nexport var delay = isProduction ? 40 : 60;\n//# sourceMappingURL=index.js.map","// tslint:disable:no-console\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nvar trace = function () {\n    var e = new Error('dummy');\n    return e.stack\n        .replace(/^[^(]+?[\\n$]/gm, '')\n        .replace(/^\\s+at\\s+/gm, '')\n        .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@')\n        .split('\\n');\n};\nvar Logger = /** @class */ (function () {\n    function Logger() {\n    }\n    /**\n     * Logs a warning. Warnings are things that are exceptional, but easily to recover from.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Logger.prototype.warn = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        console.warn.apply(console, __spread(['Warning:'], args));\n    };\n    /**\n     * Logs a debug message. Debug messages are things that help developers debugging things.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Logger.prototype.debug = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        console.log.apply(console, __spread(['Debug:'], args));\n    };\n    /**\n     * Logs an info. Infos are things that might be interesting for someone who needs to take a closer look.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Logger.prototype.info = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        console.log.apply(console, __spread(['Info:'], args));\n    };\n    /**\n     * Logs an error. Error are things that are exceptional, but can be recovered from.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Logger.prototype.error = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        console.error.apply(console, __spread(['Error:'], args));\n        console.error('Trace:', trace());\n    };\n    /**\n     * Logs a fatal error. Fatal errors are things that are exceptional and can not be recovered from.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Logger.prototype.fatal = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        console.error.apply(console, __spread(['Fatal:'], args));\n        console.error('Trace:', trace());\n        throw new Error(args.join(' '));\n    };\n    /**\n     * Logs a message.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    Logger.prototype.log = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        console.log.apply(console, __spread(['Fatal:'], args));\n        console.log('Trace:', trace());\n    };\n    return Logger;\n}());\nexport { Logger };\nvar instance = new Logger();\nexport default instance;\n//# sourceMappingURL=index.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar _a;\nimport { isRow } from '../../types/editable';\nimport deepEquals from '../../utils/deepEquals';\nimport logger from '../logger';\n/**\n * NO (None): No drop zone.\n *\n * Corners are counted clockwise, beginning top left\n * C1 (Corner top left): Position decided by top left corner function\n * C2 (Corner top right): Position decided by top right corner function\n * C3 (Corner bottom right): Position decided by bottom right corner function\n * C4 (Corner bottom left): Position decided by bottom left corner function\n *\n * Above:\n * AH (Above here): above, same level\n * AA (Above of self or some ancestor): Above, compute active level using classification functions, e.g. log, sin, mx + t\n *\n * Below:\n * BH (Below here)\n * BA (Below of self or some ancestor)\n *\n * Left of:\n * LH (Left of here)\n * LA (Left of self or some ancestor)\n *\n * Right of:\n * RH (Right of here)\n * RA (Right of self or some ancestor)\n *\n * Inside / inline\n * IL (Inline left)\n * IR (Inline right)\n */\nexport var classes = {\n    NO: 0,\n    C1: 10,\n    C2: 11,\n    C3: 12,\n    C4: 13,\n    AH: 200,\n    AA: 201,\n    BH: 210,\n    BA: 211,\n    LH: 220,\n    LA: 221,\n    RH: 230,\n    RA: 231,\n    IL: 300,\n    IR: 301,\n};\nvar c = classes;\n/**\n * A list of matrices that are used to define the callback function.\n *\n * @type {{6x6: *[], 10x10: *[], 10x10-no-inline: *[]}}\n */\nvar MATRIX_LIST = {\n    '6x6': [\n        [c.C1, c.AA, c.AA, c.AA, c.AA, c.C2],\n        [c.LA, c.IL, c.AH, c.AH, c.IR, c.RA],\n        [c.LA, c.LH, c.NO, c.NO, c.RH, c.RA],\n        [c.LA, c.LH, c.NO, c.NO, c.RH, c.RA],\n        [c.LA, c.C4, c.BH, c.BH, c.C3, c.RA],\n        [c.C4, c.BA, c.BA, c.BA, c.BA, c.C3],\n    ],\n    '10x10': [\n        [c.C1, c.AA, c.AA, c.AA, c.AA, c.AA, c.AA, c.AA, c.AA, c.C2],\n        [c.LA, c.IL, c.IL, c.IL, c.AH, c.AH, c.IR, c.IR, c.IR, c.RA],\n        [c.LA, c.IL, c.IL, c.IL, c.AH, c.AH, c.IR, c.IR, c.IR, c.RA],\n        [c.LA, c.IL, c.IL, c.IL, c.AH, c.AH, c.IR, c.IR, c.IR, c.RA],\n        [c.LA, c.LH, c.LH, c.LH, c.C1, c.C2, c.RH, c.RH, c.RH, c.RA],\n        [c.LA, c.LH, c.LH, c.LH, c.C4, c.C3, c.RH, c.RH, c.RH, c.RA],\n        [c.LA, c.LH, c.LH, c.C4, c.BH, c.BH, c.C3, c.IR, c.RH, c.RA],\n        [c.LA, c.LH, c.C4, c.BH, c.BH, c.BH, c.BH, c.C3, c.RH, c.RA],\n        [c.LA, c.C4, c.BH, c.BH, c.BH, c.BH, c.BH, c.BH, c.C3, c.RA],\n        [c.C4, c.BA, c.BA, c.BA, c.BA, c.BA, c.BA, c.BA, c.BA, c.C3],\n    ],\n    '10x10-no-inline': [\n        [c.C1, c.AA, c.AA, c.AA, c.AA, c.AA, c.AA, c.AA, c.AA, c.C2],\n        [c.LA, c.C1, c.AH, c.AH, c.AH, c.AH, c.AH, c.AH, c.C2, c.RA],\n        [c.LA, c.LH, c.C1, c.AH, c.AH, c.AH, c.AH, c.C2, c.RH, c.RA],\n        [c.LA, c.LH, c.LH, c.C1, c.AH, c.AH, c.C2, c.RH, c.RH, c.RA],\n        [c.LA, c.LH, c.LH, c.LH, c.C1, c.C2, c.RH, c.RH, c.RH, c.RA],\n        [c.LA, c.LH, c.LH, c.LH, c.C4, c.C3, c.RH, c.RH, c.RH, c.RA],\n        [c.LA, c.LH, c.LH, c.C4, c.BH, c.BH, c.C3, c.RH, c.RH, c.RA],\n        [c.LA, c.LH, c.C4, c.BH, c.BH, c.BH, c.BH, c.C3, c.RH, c.RA],\n        [c.LA, c.C4, c.BH, c.BH, c.BH, c.BH, c.BH, c.BH, c.C3, c.RA],\n        [c.C4, c.BA, c.BA, c.BA, c.BA, c.BA, c.BA, c.BA, c.BA, c.C3],\n    ],\n};\n/**\n * Computes the average width and height for cells in a room.\n *\n * @param room\n * @param matrix\n * @returns {{x: number, y: number}}\n */\nvar getRoomScale = function (_a) {\n    var room = _a.room, matrix = _a.matrix;\n    var rows = matrix.length;\n    var cells = matrix[0].length;\n    var scalingX = room.width / cells;\n    var scalingY = room.height / rows;\n    return {\n        x: scalingX,\n        y: scalingY,\n    };\n};\n/**\n * Returns the index of the hover cell.\n *\n * @param mouse\n * @param scale\n */\nvar getMouseHoverCell = function (_a) {\n    var mouse = _a.mouse, scale = _a.scale;\n    return ({\n        cell: Math.floor(mouse.x / scale.x),\n        row: Math.floor(mouse.y / scale.y),\n    });\n};\n/**\n * Used for caching.\n */\nvar last = { '10x10': null, '10x10-no-inline': null };\nexport var computeHover = function (drag, hover, actions, _a) {\n    var room = _a.room, mouse = _a.mouse, _b = _a.matrixName, matrixName = _b === void 0 ? '10x10' : _b, options = _a.options;\n    var matrix = MATRIX_LIST[matrixName];\n    var scale = getRoomScale({ room: room, matrix: matrix });\n    var hoverCell = getMouseHoverCell({ mouse: mouse, scale: scale });\n    var rows = matrix.length;\n    var cells = matrix[0].length;\n    if (hoverCell.row >= rows) {\n        hoverCell.row = rows - 1;\n    }\n    else if (hoverCell.row < 0) {\n        hoverCell.row = 0;\n    }\n    if (hoverCell.cell >= cells) {\n        hoverCell.cell = cells - 1;\n    }\n    else if (hoverCell.cell < 0) {\n        hoverCell.cell = 0;\n    }\n    var cell = matrix[hoverCell.row][hoverCell.cell];\n    if (!CALLBACK_LIST[cell]) {\n        logger.error('Matrix callback not found.', {\n            room: room,\n            mouse: mouse,\n            matrix: matrix,\n            scale: scale,\n            hoverCell: hoverCell,\n            rows: rows,\n            cells: cells,\n        });\n        return;\n    }\n    var all = {\n        item: drag.id,\n        hover: hover.id,\n        actions: actions,\n        ctx: {\n            room: room,\n            mouse: mouse,\n            position: hoverCell,\n            size: { rows: rows, cells: cells },\n            scale: scale,\n        },\n    };\n    if (deepEquals(all, last[matrixName])) {\n        return;\n    }\n    last[matrixName] = all;\n    return CALLBACK_LIST[cell](drag, hover, actions, {\n        room: room,\n        mouse: mouse,\n        position: hoverCell,\n        size: { rows: rows, cells: cells },\n        options: options,\n        scale: scale,\n    });\n};\n/**\n * Return the mouse position relative to the cell.\n */\nvar relativeMousePosition = function (_a) {\n    var mouse = _a.mouse, position = _a.position, scale = _a.scale;\n    return ({\n        x: Math.round(mouse.x - position.cell * scale.x),\n        y: Math.round(mouse.y - position.row * scale.y),\n    });\n};\n/**\n * Computes the drop level based on the mouse position and the cell width.\n */\nexport var computeLevel = function (_a) {\n    var size = _a.size, levels = _a.levels, position = _a.position;\n    if (size <= (levels + 1) * 2) {\n        return Math.round(position / (size / levels));\n    }\n    var spare = size - (levels + 1) * 2;\n    var steps = [0];\n    var current = spare;\n    for (var i = 0; i <= levels; i++) {\n        steps.push(steps[i] + current / 2);\n        current /= 2;\n        if (position >= steps[i] + i * 2 && position < steps[i + 1] + (i + 1) * 2) {\n            return i;\n        }\n    }\n    return levels;\n};\n/**\n * Computes the horizontal drop level based on the mouse position.\n *\n * @param mouse\n * @param position\n * @param hover\n * @param scale\n * @param level\n * @param inv returns the inverse drop level. Usually true for left and above drop level computation.\n * @returns number\n */\nvar computeHorizontal = function (_a, inv) {\n    var mouse = _a.mouse, position = _a.position, hover = _a.hover, scale = _a.scale, level = _a.level;\n    if (inv === void 0) { inv = false; }\n    var x = relativeMousePosition({ mouse: mouse, position: position, scale: scale }).x;\n    var at = computeLevel({ size: scale.x, position: x, levels: level });\n    if (isRow(hover)) {\n        // Is row, always opt for lowest level\n        return level;\n    }\n    // If the hovered element is an inline element, level 0 would be directly besides it which doesn't work.\n    // Set it to 1 instead.\n    if (hover.inline && at === 0) {\n        at = 1;\n    }\n    return inv ? level - at : at;\n};\n/**\n * Computes the vertical drop level based on the mouse position.\n *\n * @returns number\n */\nvar computeVertical = function (_a, inv) {\n    var level = _a.level, mouse = _a.mouse, hover = _a.hover, position = _a.position, scale = _a.scale;\n    if (inv === void 0) { inv = false; }\n    var y = relativeMousePosition({ mouse: mouse, position: position, scale: scale }).y;\n    var at = computeLevel({ size: scale.y, position: y, levels: level });\n    if (isRow(hover)) {\n        // Is row, always opt for lowest level\n        return level;\n    }\n    // If the hovered element is an inline element, level 0 would be directly besides it which doesn't work.\n    // Set it to 1 instead.\n    if (hover.inline && at === 0) {\n        at = 1;\n    }\n    return inv ? level - at : at;\n};\nvar getDropLevel = function (hover) {\n    return !isRow(hover) && hover.inline ? 1 : 0;\n};\n/**\n * A list of callbacks.\n */\nexport var CALLBACK_LIST = (_a = {},\n    _a[c.NO] = function (item, hover, _a) {\n        var clear = _a.clear;\n        return clear();\n    },\n    /* corners */\n    _a[c.C1] = function (item, hover, _a, ctx) {\n        var leftOf = _a.leftOf, above = _a.above;\n        var mouse = relativeMousePosition(ctx);\n        var level = getDropLevel(hover);\n        if (mouse.x < mouse.y) {\n            return leftOf(item, hover, level);\n        }\n        above(item, hover, level);\n    },\n    _a[c.C2] = function (item, hover, _a, ctx) {\n        var rightOf = _a.rightOf, above = _a.above;\n        var mouse = relativeMousePosition(ctx);\n        var level = getDropLevel(hover);\n        if (mouse.x > mouse.y) {\n            return rightOf(item, hover, level);\n        }\n        above(item, hover, level);\n    },\n    _a[c.C3] = function (item, hover, _a, ctx) {\n        var rightOf = _a.rightOf, below = _a.below;\n        var mouse = relativeMousePosition(ctx);\n        var level = getDropLevel(hover);\n        if (mouse.x > mouse.y) {\n            return rightOf(item, hover, level);\n        }\n        below(item, hover, level);\n    },\n    _a[c.C4] = function (item, hover, _a, ctx) {\n        var leftOf = _a.leftOf, below = _a.below;\n        var mouse = relativeMousePosition(ctx);\n        var level = getDropLevel(hover);\n        if (mouse.x < mouse.y) {\n            return leftOf(item, hover, level);\n        }\n        below(item, hover, level);\n    },\n    /* heres */\n    _a[c.AH] = function (item, hover, _a) {\n        var above = _a.above;\n        var level = getDropLevel(hover);\n        above(item, hover, level);\n    },\n    _a[c.BH] = function (item, hover, _a) {\n        var below = _a.below;\n        var level = getDropLevel(hover);\n        below(item, hover, level);\n    },\n    _a[c.LH] = function (item, hover, _a) {\n        var leftOf = _a.leftOf;\n        var level = getDropLevel(hover);\n        leftOf(item, hover, level);\n    },\n    _a[c.RH] = function (item, hover, _a) {\n        var rightOf = _a.rightOf;\n        var level = getDropLevel(hover);\n        rightOf(item, hover, level);\n    },\n    /* ancestors */\n    _a[c.AA] = function (item, hover, _a, ctx) {\n        var above = _a.above;\n        return above(item, hover, computeVertical(__assign(__assign({}, ctx), { hover: hover, level: hover.levels.above }), true));\n    },\n    _a[c.BA] = function (item, hover, _a, ctx) {\n        var below = _a.below;\n        return below(item, hover, computeVertical(__assign(__assign({}, ctx), { hover: hover, level: hover.levels.below })));\n    },\n    _a[c.LA] = function (item, hover, _a, ctx) {\n        var leftOf = _a.leftOf;\n        return leftOf(item, hover, computeHorizontal(__assign(__assign({}, ctx), { hover: hover, level: hover.levels.left }), true));\n    },\n    _a[c.RA] = function (item, hover, _a, ctx) {\n        var rightOf = _a.rightOf;\n        return rightOf(item, hover, computeHorizontal(__assign(__assign({}, ctx), { hover: hover, level: hover.levels.right })));\n    },\n    /* inline */\n    _a[c.IL] = function (item, hover, _a, _b) {\n        var _c;\n        var inlineLeft = _a.inlineLeft, leftOf = _a.leftOf;\n        var options = _b.options;\n        if (isRow(item) || isRow(hover)) {\n            return;\n        }\n        var inline = hover.inline, hasInlineNeighbour = hover.hasInlineNeighbour;\n        var plugin = options.plugins.find(function (p) { var _a; return p.id === ((_a = item.plugin) === null || _a === void 0 ? void 0 : _a.id); });\n        var isInlineable = (_c = plugin === null || plugin === void 0 ? void 0 : plugin.isInlineable) !== null && _c !== void 0 ? _c : false;\n        if (inline || !isInlineable) {\n            return leftOf(item, hover, 2);\n        }\n        if (hasInlineNeighbour && hasInlineNeighbour !== item.id) {\n            return leftOf(item, hover, 2);\n        }\n        if (hasInlineNeighbour &&\n            hasInlineNeighbour === item.id &&\n            item.inline === 'left') {\n            return leftOf(item, hover, 2);\n        }\n        inlineLeft(item, hover);\n    },\n    _a[c.IR] = function (item, hover, _a, _b) {\n        var _c;\n        var inlineRight = _a.inlineRight, rightOf = _a.rightOf;\n        var options = _b.options;\n        if (isRow(item) || isRow(hover)) {\n            return;\n        }\n        var inline = hover.inline, hasInlineNeighbour = hover.hasInlineNeighbour;\n        var plugin = options.plugins.find(function (p) { var _a; return p.id === ((_a = item.plugin) === null || _a === void 0 ? void 0 : _a.id); });\n        var isInlineable = (_c = plugin === null || plugin === void 0 ? void 0 : plugin.isInlineable) !== null && _c !== void 0 ? _c : false;\n        if (inline || !isInlineable) {\n            return rightOf(item, hover, 2);\n        }\n        if (hasInlineNeighbour && hasInlineNeighbour !== item.id) {\n            return rightOf(item, hover, 2);\n        }\n        if (hasInlineNeighbour &&\n            hasInlineNeighbour === item.id &&\n            item.inline === 'right') {\n            return rightOf(item, hover, 2);\n        }\n        inlineRight(item, hover);\n    },\n    _a);\n//# sourceMappingURL=computeHover.js.map","import { computeHover } from './computeHover';\nvar computeCurrentDropPosition = function (actions, hover, drag, monitor, element, options, matrixName) {\n    var mousePosition = monitor.getClientOffset();\n    var componentPosition = element.getBoundingClientRect();\n    var room = {\n        height: componentPosition.bottom - componentPosition.top,\n        width: componentPosition.right - componentPosition.left,\n    };\n    var mouse = {\n        y: mousePosition.y - componentPosition.top,\n        x: mousePosition.x - componentPosition.left,\n    };\n    computeHover(drag, hover, actions, {\n        room: room,\n        mouse: mouse,\n        matrixName: matrixName,\n        options: options,\n    });\n};\nexport var computeAndDispatchInsert = function (hover, drag, monitor, element, actions, options, matrixName) {\n    if (matrixName === void 0) { matrixName = '10x10'; }\n    return computeCurrentDropPosition(actions, hover, drag, monitor, element, options, matrixName);\n};\nexport var computeAndDispatchHover = function (hover, drag, monitor, element, actions, options, matrixName) {\n    if (matrixName === void 0) { matrixName = '10x10'; }\n    return computeCurrentDropPosition(actions, hover, drag, monitor, element, options, matrixName);\n};\n//# sourceMappingURL=input.js.map","import throttle from 'lodash.throttle';\nimport { delay } from '../../../../helper/throttle';\nimport { computeAndDispatchHover, computeAndDispatchInsert, } from '../../../../service/hover/input';\nimport logger from '../../../../service/logger';\nvar last = { hoverId: '', dragId: '' };\nvar shouldClear = function (hoverId, dragId) {\n    if (hoverId === last.hoverId && dragId === last.dragId) {\n        return false;\n    }\n    last = { hoverId: hoverId, dragId: dragId };\n    return true;\n};\nexport var onHover = throttle(function (target, monitor, element, actions, options) {\n    var _a, _b;\n    var drag = monitor.getItem();\n    if (!drag || !target) {\n        // item undefined, happens when throttle triggers after drop\n        return;\n    }\n    if (drag.cell.id === target.id) {\n        // If hovering over itself, do nothing\n        if (shouldClear(target.id, drag.cell.id)) {\n            actions.clear();\n        }\n        return;\n    }\n    else if (!monitor.isOver({ shallow: true })) {\n        // If hovering over ancestor cell, do nothing (we are going to propagate later in the tree anyways)\n        return;\n    }\n    else if (target.ancestorIds.includes(drag.cell.id)) {\n        if (shouldClear(target.id, drag.cell.id)) {\n            actions.clear();\n        }\n        return;\n    }\n    else if (!target.id) {\n        // If hovering over something that isn't a cell or hasn't an id, do nothing. Should be an edge case\n        logger.warn('Canceled cell drop, no id given.', target, drag);\n        return;\n    }\n    last = { hoverId: target.id, dragId: drag.cell.id };\n    var allowInlineNeighbours = (_b = (_a = options.plugins.find(function (p) { return p.id === target.pluginId; })) === null || _a === void 0 ? void 0 : _a.allowInlineNeighbours) !== null && _b !== void 0 ? _b : false;\n    computeAndDispatchHover(target, drag.cell, monitor, element, actions, options, \"10x10\" + (allowInlineNeighbours ? '' : '-no-inline'));\n}, delay, { leading: false });\nexport var onDrop = function (target, monitor, element, actions, options) {\n    var _a, _b;\n    var drag = monitor.getItem();\n    if (monitor.didDrop() || !monitor.isOver({ shallow: true }) || !target) {\n        // If the item drop occurred deeper down the tree, don't do anything\n        return;\n    }\n    else if (drag.cell.id === target.id) {\n        // If the item being dropped on itself do nothing\n        actions.cancelCellDrag();\n        return;\n    }\n    else if (target.ancestorIds.includes(drag.cell.id)) {\n        // If hovering over a child of itself, don't propagate further\n        actions.cancelCellDrag();\n        return;\n    }\n    last = { hoverId: target.id, dragId: drag.cell.id };\n    var allowInlineNeighbours = (_b = (_a = options.plugins.find(function (p) { return p.id === target.pluginId; })) === null || _a === void 0 ? void 0 : _a.allowInlineNeighbours) !== null && _b !== void 0 ? _b : false;\n    computeAndDispatchInsert(target, drag.cell, monitor, element, actions, options, \"10x10\" + (allowInlineNeighbours ? '' : '-no-inline'));\n};\n//# sourceMappingURL=dnd.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useDrop } from 'react-dnd';\nimport { useSelector } from '../../../reduxConnect';\nimport { getDropLevels } from '../../../utils/getDropLevels';\nimport { useCellProps, useDropActions, useHoverActions, useIsInsertMode, useIsLayoutMode, useNodeHoverPosition, useOptions, } from '../../hooks';\nimport { onDrop, onHover } from './helper/dnd';\nexport var useCellDrop = function (nodeId) {\n    var ref = React.useRef(null);\n    var hoverTarget = useCellProps(nodeId, function (node, ancestors) {\n        var _a;\n        return ({\n            id: node.id,\n            ancestorIds: ancestors.map(function (a) { return a.id; }),\n            hasInlineNeighbour: node.hasInlineNeighbour,\n            inline: node.inline,\n            levels: getDropLevels(node, ancestors),\n            pluginId: (_a = node.plugin) === null || _a === void 0 ? void 0 : _a.id,\n        });\n    });\n    var options = useOptions();\n    var hoverActions = useHoverActions();\n    var dropActions = useDropActions();\n    var hoverPosition = useSelector(function (state) { return state.reactPage.hover; });\n    var _a = __read(useDrop({\n        accept: 'cell',\n        canDrop: function (item) {\n            return (item.cell.id !== nodeId &&\n                !(hoverTarget === null || hoverTarget === void 0 ? void 0 : hoverTarget.ancestorIds.includes(item.cell.id)));\n        },\n        collect: function (monitor) { return ({\n            isOver: monitor.isOver(),\n        }); },\n        hover: function (item, monitor) {\n            onHover(hoverTarget, monitor, ref.current, hoverActions, options);\n        },\n        drop: function (item, monitor) {\n            onDrop(hoverTarget, monitor, ref.current, dropActions, options);\n        },\n    }), 2), isOver = _a[0].isOver, dropRef = _a[1];\n    React.useEffect(function () {\n        if (!isOver && (hoverPosition === null || hoverPosition === void 0 ? void 0 : hoverPosition.nodeId) === nodeId) {\n            hoverActions.clear();\n        }\n    }, [isOver, hoverPosition === null || hoverPosition === void 0 ? void 0 : hoverPosition.nodeId, hoverActions.clear]);\n    // see https://github.com/react-dnd/react-dnd/issues/1955\n    var attach = React.useCallback(function (domElement) {\n        dropRef(domElement);\n        ref.current = domElement;\n        // use dom element here for measuring\n    }, [dropRef]);\n    return attach;\n};\nvar Droppable = function (props) {\n    var _a;\n    var isLayoutMode = useIsLayoutMode();\n    var isInsertMode = useIsInsertMode();\n    var attach = useCellDrop(props.nodeId);\n    var hoverPosition = useNodeHoverPosition(props.nodeId);\n    var options = useOptions();\n    if (!(isLayoutMode || isInsertMode) && !options.allowMoveInEditMode) {\n        return (React.createElement(\"div\", { className: 'ory-cell-droppable-container' }, props.children));\n    }\n    return (React.createElement(\"div\", { ref: attach, style: {\n            height: '100%',\n        }, className: classNames('ory-cell-droppable', (_a = {\n                'ory-cell-droppable-is-over-current': hoverPosition\n            },\n            _a[\"ory-cell-droppable-is-over-\" + hoverPosition] = hoverPosition,\n            _a['ory-cell-droppable-leaf'] = props.isLeaf,\n            _a)) }, props.children));\n};\nexport default Droppable;\n//# sourceMappingURL=index.js.map","import * as React from 'react';\nimport { useCellDrop } from '../../Cell/Droppable';\nimport { useIsInsertMode, useIsLayoutMode } from '../../hooks';\nvar Droppable = function (_a) {\n    var children = _a.children, nodeId = _a.nodeId;\n    var isLayoutMode = useIsLayoutMode();\n    var isInsertMode = useIsInsertMode();\n    var ref = useCellDrop(nodeId);\n    if (!(isLayoutMode || isInsertMode)) {\n        return React.createElement(\"div\", { className: \"ory-row-droppable-container\" }, children);\n    }\n    return (React.createElement(\"div\", { ref: ref, className: \"ory-row-droppable\" }, children));\n};\nexport default Droppable;\n//# sourceMappingURL=index.js.map","import * as React from 'react';\nimport { useIsEditMode, useRemoveCell } from '../../hooks';\nvar ErrorCell = function (_a) {\n    var nodeId = _a.nodeId, error = _a.error;\n    var isEditMode = useIsEditMode();\n    var removeCell = useRemoveCell(nodeId);\n    return (React.createElement(\"div\", { className: \"ory-cell-error\" },\n        React.createElement(\"strong\", null, \"An error occurred!\"),\n        React.createElement(\"small\", null,\n            React.createElement(\"dl\", null,\n                React.createElement(\"dt\", null, \"Cause:\"),\n                React.createElement(\"dd\", null, error.message),\n                React.createElement(\"dt\", null, \"Cell:\"),\n                React.createElement(\"dd\", null, nodeId))),\n        isEditMode ? React.createElement(\"button\", { onClick: function () { return removeCell(); } }, \"Remove\") : null));\n};\nexport default ErrorCell;\n//# sourceMappingURL=index.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { DragPreviewImage, useDrag } from 'react-dnd';\nimport { useCell, useCellPlugin, useHoverActions, useIsFocused, useIsLayoutMode, useOptions, } from '../../hooks';\nvar icon = \n// tslint:disable-next-line:max-line-length\n'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAhCAYAAACbffiEAAAA6UlEQVRYhe2ZQQ6CMBBFX0njHg7ESXTp1p3uvIBewc3Em3AfdelSFwRDCAm01JRO+pa0lP8zzc9kMCKyAa7AFqhIixdwB44WuACHuHq8KWm1vwtgF1lMCPaWkevUNE3Qr9R17XTu1P5uvUdV+IpbG2qMGBH5xBYRAjUVUWPEjj10SS3XRFry3kha/VBTETVGcmqtDTVGFqdWn7k9ku96f88QNRVRYySn1tpQY8QptXz7qinmnpt7rZTIqbU21BgJ2mv1+XfCDVFTETVGjIg8SG8KP+RZ0I7lU+dmgRNgaKfyZVw9znT/R85fOHJJE77U6UcAAAAASUVORK5CYII=';\nvar DefaultSmallHandle = function () { return (React.createElement(\"div\", { className: \"ory-cell-draggable-overlay-handle\" },\n    React.createElement(\"div\", { className: \"ory-cell-draggable-overlay-handle-icon\" }))); };\nvar Draggable = function (_a) {\n    var _b;\n    var _c;\n    var isLeaf = _a.isLeaf, children = _a.children, nodeId = _a.nodeId;\n    var preventBlurWhenClickingOnHandle = React.useCallback(function (e) {\n        e.stopPropagation();\n    }, []);\n    var cell = useCell(nodeId);\n    var plugin = useCellPlugin(nodeId);\n    var actions = useHoverActions();\n    var _d = __read(useDrag({\n        item: {\n            type: 'cell',\n            cell: cell,\n        },\n        collect: function (monitor) { return ({\n            isDragging: monitor.isDragging(),\n        }); },\n        begin: function (monitor) {\n            actions.dragCell(nodeId);\n        },\n        end: function (item, monitor) {\n            if (monitor.didDrop()) {\n                // If the item drop occurred deeper down the tree, don't do anything\n                return;\n            }\n            // If drag ended but drop did not occur, cancel dragging\n            actions.cancelCellDrag();\n        },\n    }), 3), isDragging = _d[0].isDragging, dragRef = _d[1], preview = _d[2];\n    var focused = useIsFocused(nodeId);\n    var isLayoutMode = useIsLayoutMode();\n    var options = useOptions();\n    if (!isLayoutMode && !options.allowMoveInEditMode) {\n        return (React.createElement(\"div\", { className: \"ory-cell-draggable-container\", style: {\n                height: '100%',\n            } },\n            React.createElement(\"div\", { className: \"ory-cell-draggable-overlay-placeholder\" }),\n            children));\n    }\n    if (options.allowMoveInEditMode && !isLayoutMode) {\n        return (React.createElement(React.Fragment, null,\n            React.createElement(DragPreviewImage, { connect: preview, src: icon }),\n            React.createElement(\"div\", { style: {\n                    height: '100%',\n                }, className: classNames({\n                    'ory-cell-draggable-in-edit': options.allowMoveInEditMode,\n                    'ory-cell-draggable': isLayoutMode && !options.allowMoveInEditMode,\n                    'ory-cell-draggable-is-dragging': isDragging,\n                }), onMouseDown: preventBlurWhenClickingOnHandle },\n                focused ? (React.createElement(\"div\", { ref: dragRef }, (_c = options.editModeResizeHandle) !== null && _c !== void 0 ? _c : React.createElement(DefaultSmallHandle, null))) : null,\n                React.createElement(\"div\", null, children))));\n    }\n    return (React.createElement(React.Fragment, null,\n        React.createElement(DragPreviewImage, { connect: preview, src: icon }),\n        React.createElement(\"div\", { style: {\n                height: '100%',\n            }, ref: dragRef, className: classNames({\n                'ory-cell-draggable': isLayoutMode,\n                'ory-cell-draggable-is-dragging': isDragging,\n            }) },\n            React.createElement(\"div\", { className: classNames((_b = {\n                        'ory-cell-draggable-overlay': isLayoutMode\n                    },\n                    _b[\"ory-cell-draggable-inline-\" + cell.inline] = cell.inline,\n                    _b['ory-cell-draggable-leaf'] = isLeaf,\n                    _b)) },\n                React.createElement(\"div\", { className: \"ory-cell-draggable-overlay-description\" },\n                    React.createElement(\"span\", null, (plugin === null || plugin === void 0 ? void 0 : plugin.title) || (plugin === null || plugin === void 0 ? void 0 : plugin.text)))),\n            React.createElement(\"div\", null, children))));\n};\nexport default Draggable;\n//# sourceMappingURL=index.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from 'react';\nvar PluginMissing = function (_a) {\n    var children = _a.children, props = __rest(_a, [\"children\"]);\n    return (React.createElement(\"div\", null,\n        React.createElement(\"div\", { style: {\n                backgroundColor: 'red',\n                padding: '8px',\n                border: '1px solid black',\n                margin: '2px',\n                overflowX: 'scroll',\n            } },\n            \"The requested plugin could not be found.\",\n            React.createElement(\"button\", { onClick: props.remove }, \"Delete Plugin\"),\n            React.createElement(\"pre\", null, JSON.stringify(props, null, 2))),\n        children));\n};\nexport default PluginMissing;\n//# sourceMappingURL=PluginMissing.js.map","import * as React from 'react';\nimport { useCellData, useCellHasPlugin, useCellPlugin, useEditableId, useFocusCell, useIsEditMode, useIsFocused, useIsPreviewMode, useLang, useNodeChildrenIds, useRemoveCell, useUpdateCellData, } from '../../hooks';\nimport Row from '../../Row';\nimport Draggable from '../Draggable';\nimport Droppable from '../Droppable';\nimport InsertNew from '../InsertNew';\nimport PluginMissing from '../PluginMissing';\nvar Inner = function (_a) {\n    var _b;\n    var nodeId = _a.nodeId;\n    var lang = useLang();\n    var editableId = useEditableId();\n    var isPreviewMode = useIsPreviewMode();\n    var isEditMode = useIsEditMode();\n    var updateCellData = useUpdateCellData(nodeId);\n    var cellData = useCellData(nodeId);\n    var plugin = useCellPlugin(nodeId);\n    var cellShouldHavePlugin = useCellHasPlugin(nodeId);\n    var focus = useFocusCell(nodeId);\n    var focused = useIsFocused(nodeId);\n    var childrenIds = useNodeChildrenIds(nodeId);\n    var ref = React.useRef();\n    var Component = (_b = plugin === null || plugin === void 0 ? void 0 : plugin.Component) !== null && _b !== void 0 ? _b : PluginMissing;\n    var remove = useRemoveCell(nodeId);\n    var hasChildren = childrenIds.length > 0;\n    var onMouseDown = React.useCallback(function (e) {\n        if (!focused &&\n            e.target.closest('.ory-cell-inner') ===\n                // eslint-disable-next-line react/no-find-dom-node\n                ref.current &&\n            !e.target.classList.contains('resize-handle')) {\n            focus(false, 'onMouseDown');\n        }\n        return true;\n    }, [focus, focused]);\n    var children = childrenIds.map(function (id) { return React.createElement(Row, { nodeId: id, key: id }); });\n    if (!cellShouldHavePlugin) {\n        return React.createElement(Droppable, { nodeId: nodeId }, children);\n    }\n    return (React.createElement(Droppable, { nodeId: nodeId, isLeaf: !hasChildren },\n        React.createElement(Draggable, { nodeId: nodeId, isLeaf: !hasChildren },\n            React.createElement(\"div\", { onMouseDown: !isPreviewMode ? onMouseDown : undefined, tabIndex: -1, style: { outline: 'none' }, className: 'ory-cell-inner' + (hasChildren ? '' : ' ory-cell-leaf'), ref: ref },\n                React.createElement(Component, { editable: editableId, nodeId: nodeId, lang: lang, state: cellData, data: cellData, pluginConfig: plugin, focused: isEditMode && focused, readOnly: !isEditMode, onChange: updateCellData, isEditMode: isEditMode, isPreviewMode: isPreviewMode, remove: remove },\n                    children,\n                    React.createElement(InsertNew, { parentCellId: nodeId }))))));\n};\nexport default React.memo(Inner);\n//# sourceMappingURL=index.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useCellProps, useIsEditMode, useIsFocused, useIsLayoutMode, useIsPreviewMode, useIsResizeMode, useLang, useScrollToViewEffect, } from '../hooks';\nimport ErrorCell from './ErrorCell';\nimport Inner from './Inner';\nimport scrollIntoViewWithOffset from './utils/scrollIntoViewWithOffset';\nvar gridClass = function (_a) {\n    var isPreviewMode = _a.isPreviewMode, isEditMode = _a.isEditMode, size = _a.size;\n    if (isPreviewMode || isEditMode) {\n        return \"ory-cell-\" + (isPreviewMode || isEditMode ? 'sm' : 'xs') + \"-\" + (size || 12) + \" ory-cell-xs-12\";\n    }\n    return \"ory-cell-xs-\" + (size || 12);\n};\nvar stopClick = function (_isEditMode) { return function (e) { return (_isEditMode ? e.stopPropagation() : null); }; };\nvar CellErrorGate = /** @class */ (function (_super) {\n    __extends(class_1, _super);\n    function class_1() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            error: null,\n        };\n        return _this;\n    }\n    class_1.prototype.componentDidCatch = function (error) {\n        this.setState({ error: error });\n    };\n    class_1.prototype.render = function () {\n        if (this.state.error) {\n            return React.createElement(ErrorCell, { nodeId: this.props.nodeId, error: this.state.error });\n        }\n        return this.props.children;\n    };\n    return class_1;\n}(React.Component));\nvar Cell = function (_a) {\n    var _b;\n    var _c;\n    var nodeId = _a.nodeId, measureRef = _a.measureRef;\n    var focused = useIsFocused(nodeId);\n    var _d = useCellProps(nodeId, function (_a) {\n        var inline = _a.inline, hasInlineNeighbour = _a.hasInlineNeighbour, isDraft = _a.isDraft, isDraftI18n = _a.isDraftI18n, size = _a.size;\n        return ({\n            inline: inline,\n            hasInlineNeighbour: hasInlineNeighbour,\n            isDraft: isDraft,\n            isDraftI18n: isDraftI18n,\n            size: size,\n        });\n    }), inline = _d.inline, hasInlineNeighbour = _d.hasInlineNeighbour, isDraft = _d.isDraft, isDraftI18n = _d.isDraftI18n, size = _d.size;\n    var lang = useLang();\n    var isPreviewMode = useIsPreviewMode();\n    var isResizeMode = useIsResizeMode();\n    var isEditMode = useIsEditMode();\n    var isLayoutMode = useIsLayoutMode();\n    var isDraftInLang = (_c = isDraftI18n === null || isDraftI18n === void 0 ? void 0 : isDraftI18n[lang]) !== null && _c !== void 0 ? _c : isDraft;\n    var ref = React.useRef();\n    useScrollToViewEffect(nodeId, function () {\n        if (ref.current)\n            scrollIntoViewWithOffset(ref.current, 0);\n    }, [ref.current]);\n    if (isDraftInLang && isPreviewMode) {\n        return null;\n    }\n    return (React.createElement(\"div\", { ref: ref, className: classNames('ory-cell', gridClass({\n            isEditMode: isEditMode,\n            isPreviewMode: isPreviewMode,\n            size: size,\n        }), (_b = {\n                'ory-cell-has-inline-neighbour': hasInlineNeighbour\n            },\n            _b[\"ory-cell-inline-\" + (inline || '')] = inline,\n            _b['ory-cell-focused'] = focused,\n            _b['ory-cell-is-draft'] = isDraftInLang,\n            _b['ory-cell-resizing-overlay'] = isResizeMode,\n            _b['ory-cell-bring-to-front'] = !isResizeMode && !isLayoutMode && inline,\n            _b)), onClick: stopClick(isEditMode) },\n        React.createElement(\"div\", { ref: measureRef, style: { height: '100%' } },\n            React.createElement(CellErrorGate, { nodeId: nodeId },\n                React.createElement(Inner, { nodeId: nodeId })))));\n};\nexport default React.memo(Cell);\n//# sourceMappingURL=index.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React from 'react';\nimport Draggable from 'react-draggable';\nimport { useMeasure } from 'react-use';\nimport Cell from '../Cell';\nimport { useIsPreviewMode, useIsResizeMode, useOptions, useResizeCell, } from '../hooks';\nvar ResizableRowCell = function (_a) {\n    var nodeId = _a.nodeId, rowWidth = _a.rowWidth, rowHasInlineChildrenPosition = _a.rowHasInlineChildrenPosition, isLast = _a.isLast, offset = _a.offset;\n    var stepWidth = Math.round(rowWidth / 12);\n    var allowResizeInEditMode = useOptions().allowResizeInEditMode;\n    var isResizeMode = useIsResizeMode();\n    var isPreviewMode = useIsPreviewMode();\n    var resize = useResizeCell(nodeId);\n    var _b = __read(useMeasure(), 2), ref = _b[0], cellHeight = _b[1].height;\n    var showResizeHandle = !isPreviewMode && !isLast && (isResizeMode || allowResizeInEditMode);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Cell, { nodeId: nodeId, measureRef: ref }),\n        showResizeHandle ? (React.createElement(Draggable, { bounds: {\n                top: 0,\n                bottom: 0,\n                left: stepWidth,\n                right: rowWidth - stepWidth,\n            }, position: {\n                x: rowHasInlineChildrenPosition === 'right'\n                    ? stepWidth * (12 - offset)\n                    : stepWidth * offset,\n                y: 0,\n            }, axis: \"x\", onDrag: function (e, data) {\n                var newSize = Math.round((rowHasInlineChildrenPosition === 'right'\n                    ? rowWidth - data.x\n                    : data.x) / stepWidth);\n                resize(newSize);\n            }, grid: [stepWidth, 0] },\n            React.createElement(\"div\", { className: \"resize-handle\", style: {\n                    // fix floating style\n                    height: rowHasInlineChildrenPosition ? cellHeight : 'auto',\n                } }))) : null));\n};\nexport default React.memo(ResizableRowCell);\n//# sourceMappingURL=ResizableRowCell.js.map","var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useMeasure } from 'react-use';\nimport { isRow } from '../../types/editable';\nimport { useBlurAllCells, useNodeHoverPosition, useNodeProps } from '../hooks';\nimport Droppable from './Droppable';\nimport ResizableRowCell from './ResizableRowCell';\nvar reduceToIdAndSizeArray = function (acc, node, index) {\n    var _a, _b;\n    var size = isRow(node) ? 12 : node.size;\n    return __spread(acc, [\n        {\n            id: node.id,\n            offset: size + ((_b = (_a = acc[index - 1]) === null || _a === void 0 ? void 0 : _a.offset) !== null && _b !== void 0 ? _b : 0),\n        },\n    ]);\n};\nvar Row = function (_a) {\n    var _b;\n    var nodeId = _a.nodeId;\n    var _c = __read(useMeasure(), 2), ref = _c[0], rowWidth = _c[1].width;\n    var blurAllCells = useBlurAllCells();\n    var hoverPosition = useNodeHoverPosition(nodeId);\n    var childrenWithOffsets = useNodeProps(nodeId, function (node) {\n        var _a, _b, _c, _d;\n        return isRow(node)\n            ? (_b = (_a = node.cells) === null || _a === void 0 ? void 0 : _a.reduce(reduceToIdAndSizeArray, [])) !== null && _b !== void 0 ? _b : [] : (_d = (_c = node.rows) === null || _c === void 0 ? void 0 : _c.reduce(reduceToIdAndSizeArray, [])) !== null && _d !== void 0 ? _d : [];\n    });\n    var rowHasInlineChildrenPosition = useNodeProps(nodeId, function (node) { var _a; return isRow(node) && node.cells.length === 2 && ((_a = node.cells[0]) === null || _a === void 0 ? void 0 : _a.inline); });\n    return (React.createElement(Droppable, { nodeId: nodeId },\n        React.createElement(\"div\", { ref: ref, className: classNames('ory-row', (_b = {\n                    'ory-row-is-hovering-this': Boolean(hoverPosition)\n                },\n                _b[\"ory-row-is-hovering-\" + (hoverPosition || '')] = Boolean(hoverPosition),\n                _b['ory-row-has-floating-children'] = Boolean(rowHasInlineChildrenPosition),\n                _b)), style: { position: 'relative', borderColor: 'red' }, onClick: blurAllCells }, childrenWithOffsets.map(function (_a, index) {\n            var offset = _a.offset, id = _a.id;\n            return (React.createElement(ResizableRowCell, { key: id, isLast: index === childrenWithOffsets.length - 1, rowWidth: rowWidth, nodeId: id, rowHasInlineChildrenPosition: rowHasInlineChildrenPosition, offset: offset }));\n        }))));\n};\nexport default React.memo(Row);\n//# sourceMappingURL=index.js.map","import throttle from 'lodash.throttle';\nimport * as React from 'react';\nimport { useEffect, useRef } from 'react';\nimport { useEditableNode } from '../../..';\nimport scrollIntoViewWithOffset from '../../../components/Cell/utils/scrollIntoViewWithOffset';\nimport InsertNew from '../../Cell/InsertNew';\nimport Row from '../../Row';\nfunction isElementInViewport(el) {\n    var rect = el.getBoundingClientRect();\n    return (rect.top >= 0 &&\n        rect.left >= 0 &&\n        rect.bottom <=\n            (window.innerHeight ||\n                document.documentElement.clientHeight) /*or $(window).height() */ &&\n        rect.right <=\n            (window.innerWidth ||\n                document.documentElement.clientWidth) /*or $(window).width() */);\n}\nvar Inner = function () {\n    var rowIds = useEditableNode(function (editable) {\n        var _a, _b;\n        return ({\n            rowIds: (_b = (_a = editable === null || editable === void 0 ? void 0 : editable.rows) === null || _a === void 0 ? void 0 : _a.map(function (c) { return c.id; })) !== null && _b !== void 0 ? _b : [],\n        });\n    }).rowIds;\n    var ref = useRef();\n    var firstElementInViewPortref = React.useRef();\n    useEffect(function () {\n        var onScroll = throttle(function () {\n            if (ref.current) {\n                var firstInViewport = Array.prototype.find.call(ref.current.getElementsByClassName('ory-cell'), function (cell) { return isElementInViewport(cell); });\n                if (firstInViewport) {\n                    firstElementInViewPortref.current = {\n                        el: firstInViewport,\n                        topOffset: firstInViewport.getBoundingClientRect().top,\n                    };\n                }\n                else {\n                    firstElementInViewPortref.current = null;\n                }\n            }\n        }, 600);\n        window.addEventListener('scroll', onScroll);\n        return function () {\n            window.removeEventListener('scroll', onScroll);\n        };\n    });\n    useEffect(function () {\n        if (firstElementInViewPortref.current) {\n            var _a = firstElementInViewPortref.current, el_1 = _a.el, topOffset_1 = _a.topOffset;\n            setTimeout(function () {\n                scrollIntoViewWithOffset(el_1, topOffset_1, 'auto');\n            }, 0);\n        }\n    }, [firstElementInViewPortref.current]);\n    return (React.createElement(\"div\", { style: { minHeight: 400, display: 'flex', flexDirection: 'column' } },\n        React.createElement(\"div\", { ref: ref, className: \"ory-editable\" }, rowIds.length > 0\n            ? rowIds.map(function (id) { return React.createElement(Row, { nodeId: id, key: id }); })\n            : null),\n        React.createElement(InsertNew, null)));\n};\nexport default React.memo(Inner);\n//# sourceMappingURL=index.js.map","import React from 'react';\nimport { EditableContext } from '../hooks';\nimport HotKeyDecorator from '../HotKey/Decorator';\nimport FallbackDropArea from './FallbackDropArea';\nimport Inner from './Inner';\nvar Editable = function (_a) {\n    var id = _a.id;\n    return (React.createElement(EditableContext.Provider, { value: id },\n        React.createElement(HotKeyDecorator, null,\n            React.createElement(FallbackDropArea, null,\n                React.createElement(Inner, null)))));\n};\nexport default React.memo(Editable);\n//# sourceMappingURL=index.js.map","import { createEmptyState, Editable, Provider, } from '@react-page/core';\nimport EditorUI from '@react-page/ui';\nimport React from 'react';\nimport StickyWrapper from './StickyWrapper';\nvar EditableEditor = function (_a) {\n    var plugins = _a.plugins, pluginsWillChange = _a.pluginsWillChange, value = _a.value, onChange = _a.onChange, dndBackend = _a.dndBackend, defaultDisplayMode = _a.defaultDisplayMode, blurGateDisabled = _a.blurGateDisabled, lang = _a.lang, languages = _a.languages, onChangeLang = _a.onChangeLang, hideEditorSidebar = _a.hideEditorSidebar, allowMoveInEditMode = _a.allowMoveInEditMode, allowResizeInEditMode = _a.allowResizeInEditMode, editModeResizeHandle = _a.editModeResizeHandle;\n    var theValue = value || createEmptyState();\n    return (React.createElement(Provider, { lang: lang, onChangeLang: onChangeLang, value: [theValue], plugins: plugins, allowMoveInEditMode: allowMoveInEditMode, allowResizeInEditMode: allowResizeInEditMode, editModeResizeHandle: editModeResizeHandle, onChange: function (e) { return onChange(e[0]); }, pluginsWillChange: pluginsWillChange, languages: languages, dndBackend: dndBackend, blurGateDisabled: blurGateDisabled, blurGateDefaultMode: defaultDisplayMode },\n        React.createElement(StickyWrapper, null, function (stickyNess) { return (React.createElement(React.Fragment, null,\n            React.createElement(Editable, { id: theValue.id }),\n            React.createElement(EditorUI, { stickyNess: stickyNess, hideEditorSidebar: hideEditorSidebar }))); })));\n};\nexport default EditableEditor;\n//# sourceMappingURL=EditableEditor.js.map","// something is wrong with lerna, typescript and this import: import { lazyLoad } from '@react-page/core';\nimport loadable from '@loadable/component';\nimport { colorToString } from './ColorPicker/colorToString';\nimport darkTheme from './ThemeProvider/DarkTheme';\nvar Trash = loadable(function () { return import('./Trash/index'); });\nvar PluginDrawer = loadable(function () { return import('./PluginDrawer/index'); });\nvar DisplayModeToggle = loadable(function () { return import('./DisplayModeToggle/index'); });\nvar BottomToolbar = loadable(function () { return import('./BottomToolbar/index'); });\nvar EditorUI = loadable(function () { return import('./EditorUI/index'); });\nvar ThemeProvider = loadable(function () { return import('./ThemeProvider/index'); });\nvar ImageUpload = loadable(function () { return import('./ImageUpload/index'); });\nvar ColorPicker = loadable(function () { return import('./ColorPicker/index'); });\nexport default EditorUI;\nexport { EditorUI, Trash, PluginDrawer, DisplayModeToggle, BottomToolbar, ThemeProvider, darkTheme, ImageUpload, ColorPicker, colorToString, };\nvar Toolbar = PluginDrawer;\n/**\n * @deprecated, use PluginDrawer instead\n */\nexport { Toolbar };\n//# sourceMappingURL=index.js.map"],"sourceRoot":""}